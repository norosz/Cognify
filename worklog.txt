[2026-01-25 13:38] Antigravity
DONE: Read project specs; Created feature branch `feature/models-and-migrations`; Implemented EF Core Entities (User, Module, Document, Note, QuestionSet, Question, Attempt); Implemented `ApplicationDbContext`; Configured SQL Server in AppHost (Port 14333, Persistent); Generated `InitialCreate` migration.
CHANGED: Added `Cognify.Server/Models/*.cs`, `Cognify.Server/Data/ApplicationDbContext.cs`, `Cognify.Server/Migrations/*`; Updated `Cognify.Server/Program.cs`, `Cognify.AppHost/AppHost.cs`.
DECISIONS: Used `Guid` for all IDs; Structured entities in `Models/` and context in `Data/` as per backend rules; Fixed SQL port to 14333 and password to parameter for dev convenience.
NEXT: Implement JWT Authentication Service and Endpoints.
BLOCKERS: None.

[2026-01-25 13:42] Antigravity
DONE: Created `PROJECT_RULES.md` defining agent workflow and documentation standards.
CHANGED: Added `PROJECT_RULES.md`.
DECISIONS: Formalized the rule to read context files and maintain `status.md`/`worklog.txt` in a dedicated rules file.
NEXT: Implement JWT Authentication Service.
BLOCKERS: None.

[2026-01-25 14:48] Antigravity
DONE: Implemented JWT Authentication (Backend). Added `RegisterDto`, `LoginDto`, `AuthResponseDto`. Implemented `PasswordHasher` (BCrypt) and `AuthService`. Created `AuthController` with Login/Register endpoints. Configured JWT Bearer Auth in `Program.cs` and `appsettings.json`.
CHANGED: Added `Cognify.Server/Dtos/Auth/*.cs`, `Cognify.Server/Services/AuthService.cs`, `Cognify.Server/Controllers/AuthController.cs`. Updated `Cognify.Server/Program.cs`, `Cognify.Server/appsettings.json`.
DECISIONS: Used BCrypt for password hashing; JWT tokens expire in 24 hours; Dev secret key used in `appsettings.json`.
NEXT: Implement Module Service and Controller.
BLOCKERS: None.

[2026-01-25 14:50] Antigravity
DONE: Refactored `Services/Abstractions` to `Services/Interfaces`. Updated `BACKEND_AGENT_RULES.md` to reflect this convention.
CHANGED: Renamed `Cognify.Server/Services/Abstractions/` to `Interfaces/`. Updated namespaces in `AuthService.cs`, `PasswordHasher.cs`, `AuthController.cs`, `Program.cs`. Updated `BACKEND_AGENT_RULES.md`.
DECISIONS: Convention change to prefer `Interfaces` over `Abstractions`.
NEXT: Implement Module Service and Controller.
BLOCKERS: None.

[2026-01-25 14:55] Antigravity
DONE: Fixed runtime errors by adding `AddAuthorization()` and `AddControllers()` to `Program.cs`.
CHANGED: Updated `Cognify.Server/Program.cs`.
DECISIONS: None.
NEXT: Implement Module Service and Controller.
BLOCKERS: None.

[2026-01-25 14:58] Antigravity
DONE: Added automatic database migration at startup.
CHANGED: Updated `Cognify.Server/Program.cs`.
DECISIONS: Calling `Database.Migrate()` on startup ensures dev environment DB is always up to date.
NEXT: Implement Module Service and Controller.
BLOCKERS: None.

[2026-01-25 15:57] Antigravity
DONE: Implemented Backend Integration Tests (xUnit, SQLite InMemory). Implemented Frontend Authentication (Angular, Material).
Detailed:
- Created `Cognify.Tests` project with unit/integration tests for Auth.
- Refactored `Cognify.Server/Program.cs` to support test environments.
- Implemented Frontend Auth: Service, Interceptor, Guard.
- Implemented Frontend UI: Login, Register (Angular Material).
- Configured API Proxy (`proxy.conf.js`).
- Refactored frontend auth models to `auth.models.ts`.
CHANGED: Added `Cognify.Tests/*`, `cognify.client/src/app/core/auth/*`, `cognify.client/src/app/features/auth/*`, `cognify.client/proxy.conf.js`.
DECISIONS: Used SQLite In-Memory for integration tests; Used Angular Signals for AuthService state; Configured proxy to avoid CORS issues during dev.
NEXT: Implement Module Service and Controller.
BLOCKERS: None.

[2026-01-25 16:04] Antigravity
DONE: Implemented and Verified Frontend Unit Tests (17/17 Passed).
Detailed:
- Implemented unit tests for `AuthService`, `AuthGuard`, `AuthInterceptor`.
- Implemented component tests for `LoginComponent` and `RegisterComponent`.
- Fixed `app.component.spec.ts` to align with template changes.
- Configured `provideRouter` and `provideHttpClientTesting` in spec files.
CHANGED: Updated `*.spec.ts` files in `cognify.client`.
DECISIONS: Used `provideRouter([])` and spied on injected `Router` for component tests to ensure `RouterLink` compatibility.
NEXT: Push changes and wait for further instructions.
BLOCKERS: None.

[2026-01-25 16:29] Antigravity
DONE: Implemented Backend functionality for Modules Management.
Detailed:
- Created `Module` entity and DTOs.
- Implemented `ModuleService` (CRUD, Owner Validation).
- Created `ModulesController` with API endpoints.
- Implemented `ModulesControllerTests` (Integration Tests).
- Registered `ModuleService` in `Program.cs`.
CHANGED: Added `Cognify.Server/Services/ModuleService.cs`, `Cognify.Server/Controllers/ModulesController.cs`, `Cognify.Tests/Controllers/ModulesControllerTests.cs`.
DECISIONS: Enforced ownership check in Service layer; Tests cover CRUD and cross-user access restrictions.
NEXT: Implement Frontend Modules Service and Components.
BLOCKERS: None.

[2026-01-26 11:37] Antigravity
DONE: Refactored ModuleService and ModulesController to use internal UserContext injection.
Detailed:
- Removed userId parameter from IModuleService and ModuleService methods.
- Injected IUserContextService into ModuleService to retrieve userId internally.
- Updated ModulesController to rely on the simplified IModuleService contract.
- Verified changes with ModulesControllerTests (14/14 passed).
CHANGED: Cognify.Server/Services/Interfaces/IModuleService.cs, Cognify.Server/Services/ModuleService.cs, Cognify.Server/Controllers/ModulesController.cs.
DECISIONS: Moved user ID retrieval logic into the Service layer to cleaner Controller signature and better encapsulation.
NEXT: Implement Frontend Modules Components.
BLOCKERS: None.

[2026-01-26 11:51] Antigravity
DONE: Implemented Frontend Modules System (Dashboard, Create, Details) + Shared Layout.
Detailed:
- Implemented `MainLayoutComponent` with Navigation Bar (Brand, User, Logout).
- Implemented `DashboardComponent` (Module List, Create Action).
- Implemented `CreateModuleDialogComponent` (Form integration).
- Implemented `ModuleDetailComponent` (Tabs for Docs/Notes/Quizzes).
- Updated `app.routes.ts` with `authGuard` and layout wrapping.
- Verified with Frontend Unit Tests (20/20 passed).
CHANGED: `cognify.client/src/app/core/layout/*`, `cognify.client/src/app/features/dashboard/*`, `cognify.client/src/app/features/modules/*`, `cognify.client/src/app/app.routes.ts`.
DECISIONS: Used `MatDialog` for creation flow; Used `MainLayout` wrapper for all authenticated routes.
NEXT: Implement Documents Implementation (File Upload).
BLOCKERS: None.

[2026-01-26 12:08] Antigravity
DONE: Refactored Frontend Auth and Updated Project Docs.
Detailed:
- Updated `AuthService` to use `jwt-decode` for token expiration and user email extraction.
- Added `Confirm Password` field and validation to `RegisterComponent`.
- Added Communication Rule to `PROJECT_RULES.md`.
- Added Future AI Agents Roadmap to `PROJECT_SPEC.md`.
- Verified Auth changes with tests (21/21 passed).
CHANGED: `cognify.client/src/app/core/auth/auth.service.ts`, `cognify.client/src/app/features/auth/register/*`, `PROJECT_RULES.md`, `PROJECT_SPEC.md`.
DECISIONS: Client-side token decoding provides better UX than assuming validity; Explicit Confirm Password prevents user errors.
NEXT: Implement Documents Implementation (File Upload).
BLOCKERS: None.

[2026-01-26 12:44] Antigravity
DONE: Learned project structure and rules. Read PROJECT_SPEC.md, PROJECT_RULES.md, and all AGENT_RULES.md files. Verified project status and structure.
NEXT: Await specific user instruction, likely regarding Documents & Storage implementation.
BLOCKERS: None.

[2026-01-26 13:08] Antigravity
DONE: Implemented Blob Storage and Document Upload Backend.
Detailed:
- Configured Azurite in `AppHost.cs`.
- Implemented `BlobStorageService` (Azure Blob SDK).
- Implemented `DocumentService` (Upload, Delete, Ownership Check).
- Created `DocumentsController` (POST/GET/DELETE).
- Created `DocumentsControllerTests` (Integration verified: 5/5 Passed).
CHANGED: `Cognify.AppHost/AppHost.cs`, `Cognify.Server/Program.cs`, `Cognify.Server/Services/*`, `Cognify.Server/Controllers/DocumentsController.cs`, `Cognify.Tests/Controllers/DocumentsControllerTests.cs`.
DECISIONS: Used `StatusCode(403)` instead of `Forbid()` to avoid 500 error due to scheme mismatch; Used `MultipartFormData` for uploads.
NEXT: Frontend Implementation (Service & UI).
BLOCKERS: None.

[2026-01-26 18:09] Antigravity
DONE: Fixed Frontend Upload Crash and Implemented Forced Download.
Detailed:
- Debugged and resolved a persistent frontend crash during file upload, identified as a conflict between Brave/Windows file picker and Angular Zone.js.
- Refactored `DocumentsService` to use a `directHttp` client, bypassing interceptors to prevent circular dependency issues during upload.
- Wrapped file selection in `ngZone.runOutsideAngular` for stability.
- Enabled global CORS on Backend for development.
- Implemented **Forced Document Download**:
    - Updated `IBlobStorageService` to inject `Content-Disposition: attachment` into SAS tokens.
    - Updated `DocumentService` to propagate filenames to the storage service.
    - Verified that clicking documents now triggers a download instead of opening in the browser.
CHANGED: `Cognify.Server/Services/BlobStorageService.cs`, `Cognify.Server/Services/DocumentService.cs`, `Cognify.Server/Program.cs`, `cognify.client/src/app/features/modules/services/documents.service.ts`, `cognify.client/src/app/features/modules/components/upload-document-dialog/*`.
DECISIONS: Bypassing interceptors for the specific upload endpoint was necessary to avoid complex circular dependencies and ensure a clean, raw generic HTTP upload flow; Forcing download via SAS token headers provides the best UX for document management.
NEXT: Implement Notes Implementation.
BLOCKERS: None.

[2026-01-26 19:15] Antigravity
DONE: Implemented Backend functionality for Notes. Implementation includes DTOs, Service, Controller, and Integration Tests.
Detailed:
- Created `NoteDto`, `CreateNoteDto`, `UpdateNoteDto`.
- Implemented `NoteService` with CRUD operations and ownership checks.
- Created `NotesController` exposing endpoints.
- Registered `NoteService` in `Program.cs`.
- Implemented `NotesControllerTests` (5/5 Passed).
CHANGED: Added `Cognify.Server/Dtos/Notes/*.cs`, `Cognify.Server/Services/NoteService.cs`, `Cognify.Server/Services/Interfaces/INoteService.cs`, `Cognify.Server/Controllers/NotesController.cs`, `Cognify.Tests/Controllers/NotesControllerTests.cs`. Updated `Cognify.Server/Program.cs`.
DECISIONS: Enforced strict ownership validation in `NoteService` using `IUserContextService`.
NEXT: Implement Frontend Notes Service and Components.
BLOCKERS: None.

[2026-01-26 19:22] Antigravity
DONE: Fixed integration test failures in `DocumentsControllerTests`.
Detailed:
- Updated `DocumentsControllerTests.cs` to correctly mock `IBlobStorageService.GenerateDownloadSasToken` which now requires an optional 3rd argument.
- Verified all Document tests pass (4/4).
CHANGED: `Cognify.Tests/Controllers/DocumentsControllerTests.cs`.
DECISIONS: Maintained mock strictness while adapting to the updated service signature.
NEXT: Implement Frontend Notes Service and Components.
BLOCKERS: None.

[2026-01-26 19:22] Antigravity
DONE: Fixed integration test failures in `DocumentsControllerTests`.
Detailed:
- Updated `DocumentsControllerTests.cs` to correctly mock `IBlobStorageService.GenerateDownloadSasToken` which now requires an optional 3rd argument.
- Verified all Document tests pass (4/4).
CHANGED: `Cognify.Tests/Controllers/DocumentsControllerTests.cs`.
DECISIONS: Maintained mock strictness while adapting to the updated service signature.
NEXT: Implement Frontend Notes Service and Components.
BLOCKERS: None.

[2026-01-26 19:28] Antigravity
DONE: Implemented Frontend functionality for Notes.
Detailed:
- Created `NoteService` interacting with Backend API.
- Implemented `NotesListComponent` for displaying notes in Module Detail.
- Implemented `NoteEditorDialogComponent` for Creating/Updating notes.
- Integrated Notes tab into `ModuleDetailComponent`.
- Added Unit Tests for Service and Components (32 Total Checked).
CHANGED: `cognify.client/src/app/core/services/note.service.ts`, `cognify.client/src/app/features/notes/**/*`, `cognify.client/src/app/features/modules/module-detail/*`.
DECISIONS: Used Material Dialog for note editing to keep context; Removed `environment` dependency in favor of relative API paths.
NEXT: Await further instructions (e.g., Quiz implementation).
BLOCKERS: None.

[2026-01-26 19:44] Antigravity
DONE: Refined Note Editor UI.
Detailed:
- Increased margin between form fields in `NoteEditorDialogComponent` to 24px for better readability.
- Applied `!important` to override default spacing where necessary.
CHANGED: `cognify.client/src/app/features/notes/components/note-editor-dialog/note-editor-dialog.component.scss`.
DECISIONS: Prioritized visual comfort and clear separation of inputs.
NEXT: Push changes and proceed to Quiz Implementation.
BLOCKERS: None.


[2026-01-26 21:00] Antigravity
DONE: Implemented Backend for AI-powered Quizzes and Assessments.
Detailed:
- Configured Azure.AI.OpenAI in AppHost and Server.
- Implemented `AiService` to generate questions from notes.
- Implemented `QuestionService` and `AttemptService` (CRUD, Scoring).
- Created `AiController`, `QuestionSetsController`, `AttemptsController`.
- Implemented Integration Tests for all new services/controllers (33 tests passed).
CHANGED: Added `Cognify.Server/Services/AiService.cs`, `QuestionService.cs`, `AttemptService.cs`; Added Controllers; Added Tests `Cognify.Tests/Services/*` and `Cognify.Tests/Controllers/AiControllerTests.cs`.
DECISIONS: Used `mock` for AI Service tests to avoid API costs; Implemented simple scoring logic in backend.
NEXT: Implement Frontend Quiz UI (Generation, Taking, Results).
BLOCKERS: None.

[2026-01-26 21:35] Antigravity
DONE: Implemented and Fixed Frontend Quiz UI.
Detailed:
- Implemented `QuizGenerationComponent` (AI Preview, Save).
- Implemented `QuizTakingComponent` (Take Quiz, Radio Buttons, Score Result).
- Refactored `QuestionService` and `QuestionDto` to properly expose IDs.
- Fixed `NotesListComponent` to emit event upon quiz generation, triggering auto-refresh in `ModuleDetail`.
- Verified UI functionality (Refresh, Input binding).
CHANGED: `cognify.client/src/app/features/modules/**/*`, `Cognify.Server/Services/QuestionService.cs`.
DECISIONS: Used an event-driven approach (Output/EventEmmiter) to handle cross-component refresh; Added `Id` to Question DTOs to fix input binding.
NEXT: Await further instructions (e.g., Agents Implementation).
BLOCKERS: None.

[2026-01-26 21:42] Antigravity
SCOPE PIVOT: Transformed project from 'Quiz App' to 'Adaptive Learning Platform'.
DETAILS:
- Updated README.md with new identity and capabilities.
- Updated PROJECT_SPEC.md with new domain model (UserKnowledgeState) and architecture.
- Updated status.md and task.md with new roadmap (Adaptive Engine, Decay Prediction, etc.).
NEXT: Begin implementation of User Knowledge Model.

[2026-01-26 22:17] Antigravity
DONE: Synchronized PROJECT_SPEC.md with README.md.
DETAILS: Expanded project spec to include Mistake Intelligence, Continuous Learning Loop, and detailed Dashboard components, ensuring full alignment with the new product vision.
CHANGED: PROJECT_SPEC.md.
NEXT: Begin implementation of User Knowledge Model.

[2026-01-27 00:01] Antigravity
DONE: Refined Dashboard, Login, and Quiz Styling.
Detailed:
- Implemented global Glassmorphism card styles in `styles.scss` (`.cognify-glass-card`).
- Updated `DashboardComponent`, `NoteListComponent`, and `QuizListComponent` to use unified glass styles.
- Styled `LoginComponent` to match the dashboard (transparent glass card on global gradient).
- Updated `NoteEditorDialog` inputs to have dark backgrounds and "Beautiful Blue" (`#90caf9`) focus states.
- Implemented consistent "Beautiful Blue" focus effects for all inputs globally in `styles.scss`.
- Styled `QuizTakingComponent` with glassmorphism (dark transparent background, white text).
- Fixed styling issues: Login card height, Note text truncation (fade-out), Upload dialog hover effect.
CHANGED: `styles.scss`, `dashboard.component.scss`, `notes-list.component.scss`, `quiz-list.component.scss`, `login.component.*`, `quiz-taking.component.scss`, `upload-document-dialog.component.css`.
DECISIONS: Enforced styles globally in `styles.scss` with high specificity to override Angular Material defaults reliably.
NEXT: Await further instructions.
BLOCKERS: None.

[2026-01-27 12:05] Antigravity
DONE: Updated PROJECT_RULES.md to forbid using PowerShell for extending file content.
CHANGED: PROJECT_RULES.md
DECISIONS: Added explicit tool usage restriction to prevent potential encoding/formatting issues with PowerShell file appending.
NEXT: Await further instructions.
BLOCKERS: None.

[2026-01-27 12:08] Antigravity
DONE: Updated FRONTEND_AGENT_RULES.md to enforce styling consistency.
CHANGED: FRONTEND_AGENT_RULES.md
DECISIONS: Added explicit rule that frontend components must be consistent (styling, scss) with existing ones.
NEXT: Await further instructions.
BLOCKERS: None.

[2026-01-27 12:12] Antigravity
DONE: Created branch `feature/ai-agents`; Created `implementation_plan.md`.
CHANGED: `status.md`, `implementation_plan.md`.
DECISIONS: Will use GPT-4o for Handwriting OCR to simplify stack (no extra Azure Vision resource needed).
NEXT: Implement Backend logic for Handwriting Parsing (AiService, Controller).
BLOCKERS: None.

[2026-01-27 12:45] Antigravity
DONE: Implemented Backend AI Agents (OCR, Advanced Questions, Grading).
Detailed:
- Added `DownloadStreamAsync` to `IBlobStorageService`.
- Implemented `ParseHandwritingAsync`, `GenerateQuestionsAsync`, `GradeAnswerAsync` in `AiService` using GPT-4o.
- Added `AiController` endpoints for extracting text and generating enhanced questions.
- Validated with integration tests `AiControllerTests` (Passed).
CHANGED: `Cognify.Server/Services/*`, `Cognify.Server/Controllers/AiController.cs`, `Cognify.Tests/Controllers/AiControllerTests.cs`, `Cognify.Server/Models/Ai/*`.
DECISIONS: Consolidated `QuestionType` enum into `Cognify.Server.Models` to avoid duplicates; Added Mocks for storage/document services in controller tests.
NEXT: Implement Frontend AI Features (Note Link, Magic Wand, Quiz Types).
BLOCKERS: None.

[2026-01-27 13:50] Antigravity
DONE: Implemented Frontend AI Features fully.
Detailed:
- Implemented `AiService` in frontend to consume new endpoints.
- Created `HandwritingPreviewDialog` for OCR results display and "Save to Note".
- Updated `DocumentList` with "Magic Wand" button for text extraction.
- Created `DocumentSelectionDialog` and updated `NoteEditor` to allow importing content from documents.
- Updated `QuizGenerationComponent` to support all new question types (Matching, OpenText, etc.) and Difficulty slider.
- Updated `QuizTakingComponent` to render new question types and "Study Mode" for Matching.
- Verified build with `npm run build`.
CHANGED: `cognify.client/src/app/features/**/*` (Notes, Modules, Components).

[2026-01-27 13:08] Antigravity
DONE: Implemented and Verified Frontend Unit Tests.
Detailed:
- Created unit tests for `AiService` (100% coverage of new methods).
- Created unit tests for `HandwritingPreviewDialogComponent` (Spying on MatSnackBar prototype to handle DI nuances).
- Created unit tests for `QuizGenerationComponent` (Handling expected errors via console spy).
- Created unit tests for `QuizTakingComponent`.
- Tests passed for all new components (16 specs).
CHANGED: `cognify.client/src/app/**/*.spec.ts`.
NEXT: User Knowledge State & Adaptive Quiz Engine.

[2026-01-27 13:50] Antigravity
DONE: UI Fixes and Theme Updates.
Detailed:
- Updated primary color to light-blue (#90caf9) for consistent lighter theme.
- Fixed register page to match login (dark mode, glassmorphism, transparent background).
- Fixed quiz-generation component dark mode styling (backgrounds, text colors, borders).
- Fixed input focus double border issue (removed extra box-shadow).
- Added red styling for delete menu item in notes list.
- Fixed failing test specs by adding HttpClient providers.
- Removed debug console.log statements from test files.
CHANGED: `styles.scss`, `register.component.*`, `quiz-generation.component.*`, `notes-list.component.*`, `*.spec.ts`.
NEXT: User Knowledge State & Adaptive Quiz Engine.

[2026-01-27 14:10] Antigravity
DONE: Global Notification System & Extraction Flow Improvements.
Detailed:
- Created `NotificationService` with show/update/dismiss, success/error/warning/loading convenience methods.
- Created `NotificationContainerComponent` (top-right toast stack, glassmorphism, slide-in animation).
- Auto-close after 5 seconds for non-loading notifications.
- Added extraction state tracking in `DocumentListComponent` (spinner on button, prevents duplicate extractions).
- Added title input to `HandwritingPreviewDialogComponent` (required before saving as note).
- Replaced `MatSnackBar` with `NotificationService` across all components.
- Created `notification.service.spec.ts` with 10 comprehensive tests.
- Updated tests for components using notifications.
- All 63 tests passing.
CHANGED: `notification.service.ts`, `notification-container.component.*`, `document-list.component.*`, `handwriting-preview-dialog.component.*`, `notes-list.component.*`, `note-editor-dialog.component.*`, `app.component.*`.
NEXT: User Knowledge State & Adaptive Quiz Engine.

[2026-01-27 19:30] Antigravity
DONE: Refactored Extraction Pipeline to Async/Pending System.
Detailed:
- Created `ExtractedContent` model with `Status` enum (Processing/Ready/Error).
- Created `PendingQuiz` model with `Status` enum (Generating/Ready/Failed).
- Implemented `ExtractedContentService` (CreatePending, Update, MarkAsError, SaveAsNote).
- Implemented `PendingQuizService` (CreateAsync with background AI task, SaveAsQuizAsync).
- Created `PendingController` with endpoints for extractions and quizzes.
- Updated `AiController.ExtractText` to return 202 Accepted with pending ID instead of blocking.
- Removed auto-extraction from `DocumentsController.CompleteUpload`.
- Applied database migration for new entities.
- Built `PendingComponent` (frontend) with polling, tab routing, status cards.
- Integrated notifications for extraction/quiz completion.
- Fixed multiple compilation errors during refactoring.
CHANGED: `Cognify.Server/Models/*`, `Cognify.Server/Services/*`, `Cognify.Server/Controllers/*`, `cognify.client/src/app/features/pending/*`, `cognify.client/src/app/core/services/pending.service.ts`.
DECISIONS: Async extraction allows users to continue working while AI processes; Pending items are user-owned and reviewable before saving.
NEXT: Fix and improve test coverage.
BLOCKERS: None.

[2026-01-27 20:43] Antigravity
DONE: Improved Test Coverage for Backend and Frontend.
Detailed:
- Created `PendingQuizServiceTests` (4 unit tests: CreateAsync, SaveAsQuizAsync, authorization checks).
- Created `NoteServiceTests` (6 unit tests: CRUD with ownership validation).
- Fixed `AiControllerTests` (endpoint URL, JSON deserialization, enum values).
- Created `pending.service.spec.ts` (9 HTTP mock tests).
- Created `pending.component.spec.ts` (12 component tests: lifecycle, polling, tab routing).
- Fixed `quiz-generation.component.ts` (missing `title` in DTO).
- Fixed `quiz-taking.component.spec.ts` (missing `title` in mock).
- Fixed `notes-list.component.spec.ts` (added missing `PendingService` mock).
- Fixed `notification.service.spec.ts` (corrected invalid auto-close test).
- Made `QuestionDto.explanation` optional in `quiz.models.ts`.
- Backend: 37 tests passing. Frontend: 85 tests passing. Total: 122 tests.
CHANGED: `Cognify.Tests/Services/*`, `Cognify.Tests/Controllers/AiControllerTests.cs`, `cognify.client/**/*.spec.ts`, `cognify.client/**/quiz.models.ts`, `cognify.client/**/quiz-generation.component.ts`.
DECISIONS: Focused unit tests on new Pending system (PendingQuiz, ExtractedContent) and NoteService to increase coverage of newly implemented features.
NEXT: User Knowledge State & Adaptive Quiz Engine.
BLOCKERS: None.
